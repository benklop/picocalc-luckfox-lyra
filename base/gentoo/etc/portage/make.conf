# Cross-compilation make.conf for armv7a-hardfloat-linux-gnueabi

# Architecture-specific settings
CHOST="armv7a-hardfloat-linux-gnueabi"

COMMON_FLAGS="-O2 -pipe -march=armv7-a -mfpu=vfpv3-d16 -mfloat-abi=hard"
CPU_FLAGS_ARM="edsp neon thumb vfp vfpv3 vfpv4 vfp-d32 v4 v5 v6 v7 thumb2"
CFLAGS="\${COMMON_FLAGS}"
CXXFLAGS="\${COMMON_FLAGS}"
FCFLAGS="\${COMMON_FLAGS}"
FFLAGS="\${COMMON_FLAGS}"

# Embedded system optimization
MAKEOPTS="-j2"

# USE flags for embedded ARM system
USE="${RK_GENTOO_USE_FLAGS:--X -gtk -qt5 -kde -gnome minimal embedded -systemd openrc}"

# Features
FEATURES="buildpkg parallel-fetch"

# Portage directories
PORTDIR="/var/db/repos/gentoo"
DISTDIR="/var/cache/distfiles"
PKGDIR="/var/cache/binpkgs"

# Locale and timezone
LC_MESSAGES=C
TIMEZONE="${RK_GENTOO_TIMEZONE:-UTC}"

# Accept licenses
ACCEPT_LICENSE="*"

# Emerge options for cross-compilation
EMERGE_DEFAULT_OPTS="--jobs=2 --load-average=2"

# ccache configuration
FEATURES="\${FEATURES} ccache"
CCACHE_SIZE="1G"